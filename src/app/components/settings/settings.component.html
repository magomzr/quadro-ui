<div class="settings-container">
  @if (form) {
  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="settings-form">
    <h3>{{ "title" | label : "settings" }}</h3>
    <div class="form-group">
      <label for="companyName">{{ "companyName" | label : "settings" }}</label>
      <input id="companyName" formControlName="companyName" />
    </div>
    <div class="form-group">
      <label for="companyLogoUrl">{{
        "companyLogoUrl" | label : "settings"
      }}</label>
      <input id="companyLogoUrl" formControlName="companyLogoUrl" />
    </div>
    <div class="form-group">
      <label for="currency">{{ "currency" | label : "settings" }}</label>
      <select id="currency" formControlName="currency">
        <option value="">{{ "selectCurrency" | label : "settings" }}</option>
        @for (currency of currencies; track currency.value) {
        <option [value]="currency.value">{{ currency.name }}</option>
        }
      </select>
    </div>
    <div class="form-group">
      <label for="locale">{{ "locale" | label : "settings" }}</label>
      <select id="locale" formControlName="locale">
        <option value="">{{ "selectLocale" | label : "settings" }}</option>
        @for (locale of locales; track locale.value) {
        <option [value]="locale.value">{{ locale.name }}</option>
        }
      </select>
    </div>
    <div class="form-group">
      <label for="timezone">{{ "timezone" | label : "settings" }}</label>
      <input id="timezone" formControlName="timezone" />
    </div>
    <div class="form-group">
      <label for="invoicePrefix">{{
        "invoicePrefix" | label : "settings"
      }}</label>
      <input id="invoicePrefix" formControlName="invoicePrefix" />
    </div>
    <button type="submit" [disabled]="form.invalid || loading">
      {{ "save" | label : "common" }}
    </button>
    @if (error) {
    <div class="error-message">{{ error }}</div>
    }
  </form>
  }
</div>
